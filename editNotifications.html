<!DOCTYPE HTML>
<html>
    <head>
        <title>CampusGrids: Notifications</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="css/themes/campus.min.css" />
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile.structure-1.3.0.min.css" />
        <link rel="stylesheet" href="css/font-awesome.css" />
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
        <script type="text/javascript" src="js/CG.js"></script>
    </head>

<body>
    <div data-role="page" id="editNotificationsPage" data-theme="a">
        <!-- Header -->
        <div data-role="panel" id="menuPanel" data-position="right" data-display="overlay" data-theme="b">
            <ul data-role="listview">
                    <li>
                        <a href="allClubs.html" data-ajax="false">All Clubs</a>
                    </li>
                    <li>
                        <a href="allEvents.html" data-ajax="false">All Events</a>
                    </li>
                    <li>
                        <a href="findFriends.html" data-ajax="false">Find Friends</a>
                    </li>
                    <!--<li>
                        <a href="promote.html">Promote</a>
                    </li>-->
                    <li>
                        <a href="settings.html" data-ajax="false">Settings</a>
                    </li>
                    <li>
                        <a href="feedback.html" data-ajax="false">Feedback</a>
                    </li>
                    <li>
                        <a href="linkAccounts.html" data-ajax="false">Link Accounts</a>
                    </li>
                </ul>
                <!-- <a style="margin-top: 50px;" href="#" data-rel="close" data-role="button" data-icon="delete" data-iconpos="left">Close Menu</a> -->
        </div>
        <div data-role="header" data-position="fixed" data-tap-toggle="false" data-theme="b">
            <img src="img/logo_small.png" class="smallLogo">
            <h1 class="headerTitle">Edit Notifications</h1>
            <!-- onclick="document.getElementById('notificationsForm').submit();" -->
            <a href="#" class="headerSubmit" id="submitForm" data-icon="check" data-iconpos="left" >Done</a>
            <a id="header" href="#menuPanel" class="ui-btn-right"><i style="font-size: 1.4em;" class="icon-reorder"></i></a>
        </div>
        <!-- /header -->

<!------------------------------- CONTENT ---------------------------------------------------------->
        <div data-role="content" id="content" data-theme="a">
            <form id="notificationsForm" method="post" action="settings.html">
                <fieldset data-role="controlgroup" data-iconpos="right">
                    <legend>Profile Notifications</legend>
                    <input name="checkbox-h-p1" id="checkbox-h-p1" type="checkbox">
                    <label for="checkbox-h-p1">New member<br /><p style="font-size:small;color:grey;">Someone joins your grid</p></label>
                    <input name="checkbox-h-p2" id="checkbox-h-p2" type="checkbox">
                    <label for="checkbox-h-p2">New message<br /><p style="font-size:small;color:grey;">Someone sends you a message</p></label>
                </fieldset>
                <fieldset data-role="controlgroup" data-iconpos="right">
                    <legend>Event Notifications</legend>
                    <input name="checkbox-h-e1" id="checkbox-h-e1" type="checkbox">
                    <label for="checkbox-h-e1">New attendees<br /><p style="font-size:small;color:grey;">Someone attends an event you created</p></label>
                    <input name="checkbox-h-e2" id="checkbox-h-e2" type="checkbox">
                    <label for="checkbox-h-e2">Friend attends<br /><p style="font-size:small;color:grey;">Your friend attends an event you're in</p></label>
                    <input name="checkbox-h-e3" id="checkbox-h-e3" type="checkbox">
                    <label for="checkbox-h-e3">Event updates<br /><p style="font-size:small;color:grey;">An event you are attending has new information</p></label>
                    <input name="checkbox-h-e4" id="checkbox-h-e4" type="checkbox">
                    <label for="checkbox-h-e4">Event reminder<br /><p style="font-size:small;color:grey;">A day before the event you are attending</p></label>
                </fieldset>
                <fieldset data-role="controlgroup" data-iconpos="right">
                    <legend>Photo Notifications</legend>
                    <input name="checkbox-h-ph1" id="checkbox-h-ph1" type="checkbox">
                    <label for="checkbox-h-ph1">New comment<br /><p style="font-size:small;color:grey;">Someone comments on a picture you posted</p></label>
                    <input name="checkbox-h-ph2" id="checkbox-h-ph2" type="checkbox">
                    <label for="checkbox-h-ph2">New like<br /><p style="font-size:small;color:grey;">Someone likes a picture you posted</p></label>
                </fieldset>
            </form>
        </div>
<!------------------------------- END OF CONTENT ---------------------------------------------------------->
        <div data-role="footer" data-position="fixed" id="footer" data-tap-toggle="false">
            <div data-role="navbar">
              <ul>
                <li data-theme="a">
                  <a href="home.html" data-ajax="false"><i class="icon-home icon-2x"></i></a>
                </li>
                <li data-theme="a">
                  <a href="search.html" data-ajax="false"><i class="icon-search icon-2x"></i></a>
                </li>
                <li data-theme="a">
                  <a href="calendar.html" data-ajax="false"><i class="icon-calendar icon-2x"></i></a>
                </li>
                <li data-theme="a">
                  <a href="profile.html" data-ajax="false"><i class="icon-user icon-2x"></i></a>
                </li>
              </ul>
            </div>
        </div>
        <!-- /footer -->
    </div>
    <script>
        $("body").css("overflow", "hidden");
        $('#search-1').focus(function () {
            $('#footer').hide();
        });
        $('#search-1').blur(function () {
            $('#footer').show();
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $.post("editNotifications.php", { "func": "retrieveNotifications", "gridid": localStorage.gridid },
                function (data) {
                    if (data.status == 0) {
                        alert("ERROR");     // Retrieve error here...
                        return false;
                    }
                    else {
                        //Display the retrieved interests (tags)
                        alert(data.func);
                    }
                }, "json");
        });

        $('#submitForm').click(function () {
            //is(:checked) will return true or false
            $.post("editNotifications.php", { "func": "updateNotifications", "gridid": localStorage.gridid },
                function (data) {
                    if (data.status == 0) {
                        alert("ERROR");     // Update error here...
                        return false;
                    }
                    else {
                        alert(data.func);
                        //window.location = "settings.html";
                    }
                }, "json");
        });
    </script>
</body>

</html>
