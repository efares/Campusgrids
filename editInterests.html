<!DOCTYPE HTML>
<html>
    <head>
        <title>CampusGrids: Interests</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="css/themes/campus.min.css" />
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile.structure-1.3.0.min.css" />
        <link rel="stylesheet" href="css/font-awesome.css" />
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
        <script type="text/javascript" src="js/CG.js"></script>
    </head>

<body>
    <div data-role="page" id="editInterestsPage" data-theme="a">
        <!-- Header -->
        <div data-role="panel" id="menuPanel" data-position="right" data-display="overlay" data-theme="b">
            <ul data-role="listview">
                    <li>
                        <a href="allClubs.html" data-ajax="false">All Clubs</a>
                    </li>
                    <li>
                        <a href="allEvents.html" data-ajax="false">All Events</a>
                    </li>
                    <li>
                        <a href="findFriends.html" data-ajax="false">Find Friends</a>
                    </li>
                    <!--<li>
                        <a href="promote.html">Promote</a>
                    </li>-->
                    <li>
                        <a href="settings.html" data-ajax="false">Settings</a>
                    </li>
                    <li>
                        <a href="feedback.html" data-ajax="false">Feedback</a>
                    </li>
                    <li>
                        <a href="linkAccounts.html" data-ajax="false">Link Accounts</a>
                    </li>
                </ul>
                <!-- <a style="margin-top: 50px;" href="#" data-rel="close" data-role="button" data-icon="delete" data-iconpos="left">Close Menu</a> -->
        </div>
        <div data-role="header" data-position="fixed" data-tap-toggle="false" data-theme="b">
            <img src="img/logo_small.png" class="smallLogo">
            <h1 class="headerTitle">Edit Interests</h1>
            <!-- onclick="document.getElementById('interestsForm').submit();" -->
            <a href="#" class="headerSubmit" id="submitForm" data-icon="check" data-iconpos="left" class="ui-btn-right">Done</a>
            <!-- <a id="header" href="#menuPanel" class="ui-btn-right"><i style="font-size: 1.4em;" class="icon-reorder"></i></a> -->
        </div>
        <!-- /header -->

<!------------------------------- CONTENT ---------------------------------------------------------->
    <div data-role="content" id="content" data-theme="a">
        <form id="interestsForm" method="post" action="settings.html">
            <fieldset data-role="controlgroup" data-type="horizontal" style="margin-top: 0;">
            <div class="ui-grid-b"> <!-- Make a 3 column grid -->
                <!-- First Row -->
                <input name="checkbox-athletics" id="checkbox-athletics" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-athletics" class="interestCheckBox"><p>Athletics</p></label>
                <input name="checkbox-arts" id="checkbox-arts" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-arts" class="interestCheckBox"><p>Arts</p></label>
                <input name="checkbox-business" id="checkbox-business" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-business" class="interestCheckBox"><p>Business</p></label>
                <!-- Second Row -->
                <input name="checkbox-commerce" id="checkbox-commerce" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-commerce" class="interestCheckBox"><p>Commerce</p></label>
                <input name="checkbox-dance" id="checkbox-dance" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-dance" class="interestCheckBox"><p>Dance</p></label>
                <input name="checkbox-engineering" id="checkbox-engineering" type="checkbox" class="interestCheckBoxInput" class="interestCheckBoxInput">
                <label for="checkbox-engineering" class="interestCheckBox"><p>Engineering</p></label>
                <!-- Third Row -->
                <input name="checkbox-journalism" id="checkbox-journalism" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-journalism" class="interestCheckBox"><p>Journalism</p></label>
                <input name="checkbox-compSci" id="checkbox-compSci" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-compSci" class="interestCheckBox"><p>Computer<br />Science</p></label>
                <input name="checkbox-law" id="checkbox-law" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-law" class="interestCheckBox"><p>Law</p></label>
                <!-- Fourth Row -->
                <input name="checkbox-math" id="checkbox-math" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-math" class="interestCheckBox"><p>Math</p></label>
                <input name="checkbox-music" id="checkbox-music" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-music" class="interestCheckBox"><p>Music</p></label>
                <input name="checkbox-politics" id="checkbox-politics" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-politics" class="interestCheckBox"><p>Politics</p></label>
                <!-- Fifth Row -->
                <input name="checkbox-religion" id="checkbox-religion" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-religion" class="interestCheckBox"><p>Religion</p></label>
                <input name="checkbox-science" id="checkbox-science" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-science" class="interestCheckBox"><p>Science</p></label>
                <input name="checkbox-social" id="checkbox-social" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-social" class="interestCheckBox"><p>Social</p></label>
                <!-- Sixth Row -->
                <input name="checkbox-technology" id="checkbox-technology" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-technology" class="interestCheckBox"><p>Technology</p></label>
                <input name="checkbox-humanities" id="checkbox-humanities" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-humanities" class="interestCheckBox"><p>Humanities</p></label>
                <input name="checkbox-other" id="checkbox-other" type="checkbox" class="interestCheckBoxInput">
                <label for="checkbox-other" class="interestCheckBox"><p>Other<br />Things</p></label>
            </div>
            </fieldset>
        </form>
    </div>
<!------------------------------- END OF CONTENT ---------------------------------------------------------->
        <div data-role="footer" data-position="fixed" id="footer" data-tap-toggle="false">
            <div data-role="navbar">
              <ul>
                <li data-theme="a">
                  <a href="home.html" data-ajax="false"><i class="icon-home icon-2x"></i></a>
                </li>
                <li data-theme="a">
                  <a href="search.html" data-ajax="false"><i class="icon-search icon-2x"></i></a>
                </li>
                <li data-theme="a">
                  <a href="calendar.html" data-ajax="false"><i class="icon-calendar icon-2x"></i></a>
                </li>
                <li data-theme="a">
                  <a href="profile.html" data-ajax="false"><i class="icon-user icon-2x"></i></a>
                </li>
              </ul>
            </div>
        </div>
        <!-- /footer -->
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            $.post("editInterests.php", { "func": "retrieveInterests", "gridid": localStorage.gridid },
                function (data) {
                    if (data.status == 0) {
                        alert("ERROR");     // Retrieve error here...
                        return false;
                    }
                    else {
                        //Display the retrieved interests (tags)
                        alert("Retrieved");
                    }
                }, "json");
        });

        $('#submitForm').click(function () {
            //is(:checked) will return true or false
            $.post("editInterests.php", {
                "func": "updateInterests",
                "gridid": localStorage.gridid,
                "athletics": $('#checkbox-athletics').is(':checked'),
                "arts": $('#checkbox-arts').is(':checked'),
                "business": $('#checkbox-business').is(':checked'),
                "commerce": $('#checkbox-commerce').is(':checked'),
                "dance": $('#checkbox-dance').is(':checked'),
                "engineering": $('#checkbox-engineering').is(':checked'),
                "journalism": $('#checkbox-journalism').is(':checked'),
                "compSci": $('#checkbox-compSci').is(':checked'),
                "law": $('#checkbox-law').is(':checked'),
                "math": $('#checkbox-math').is(':checked'),
                "music": $('#checkbox-music').is(':checked'),
                "politics": $('#checkbox-politics').is(':checked'),
                "religion": $('#checkbox-religion').is(':checked'),
                "science": $('#checkbox-science').is(':checked'),
                "social": $('#checkbox-social').is(':checked'),
                "technology": $('#checkbox-technology').is(':checked'),
                "humanities": $('#checkbox-humanities').is(':checked'),
                "other": $('#checkbox-other').is(':checked'),
            },
                function (data) {
                    if (data.status == 0) {
                        alert("ERROR");     // Update error here...
                        return false;
                    }
                    else {
                        alert("Updated");
                        //window.location = "settings.html";
                    }
                }, "json");
        });
    </script>
</body>

</html>
